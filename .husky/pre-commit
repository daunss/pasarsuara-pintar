#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Go format check
echo "ğŸ“ Checking Go formatting..."
cd apps/backend && go fmt ./... && cd ../..
cd apps/wa-gateway && go fmt ./... && cd ../..

# Go build check
echo "ğŸ”¨ Building Go services..."
cd apps/backend && go build ./... && cd ../..
cd apps/wa-gateway && go build ./... && cd ../..

# Run Go tests
echo "ğŸ§ª Running Go tests..."
cd apps/backend && go test ./... && cd ../..

echo "âœ… Pre-commit checks passed!"
